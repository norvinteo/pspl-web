/* CSS Scroll-Driven Animations (Modern Browsers) */

/* Define scroll timeline */
@supports (animation-timeline: scroll()) {
    /* Animate sections as they come into view */
    .purpose-card,
    .service-card,
    .pillar-card,
    .promise-card,
    .timeline-item,
    .portfolio-item,
    .testimonial-card,
    .core-value-item,
    .stat-wrapper,
    .fleet-card {
        animation: fadeInUp linear both;
        animation-timeline: view();
        animation-range: entry 0% cover 30%;
    }
    
    /* Animation for left-aligned timeline items */
    .timeline-item:nth-child(odd) {
        animation: slideInLeft linear both;
        animation-timeline: view();
        animation-range: entry 0% cover 30%;
    }
    
    /* Animation for right-aligned timeline items */
    .timeline-item:nth-child(even) {
        animation: slideInRight linear both;
        animation-timeline: view();
        animation-range: entry 0% cover 30%;
    }
    
    /* Portfolio items scale in */
    .portfolio-item {
        animation: scaleIn linear both;
        animation-timeline: view();
        animation-range: entry 0% cover 30%;
    }
    
    /* Stats scale and fade */
    .stat-wrapper {
        animation: scaleInFade linear both;
        animation-timeline: view();
        animation-range: entry 0% cover 30%;
    }
    
    /* Fleet cards slide up and scale */
    .fleet-card {
        animation: slideUpScale linear both;
        animation-timeline: view();
        animation-range: entry 0% cover 30%;
    }
}

/* Keyframe Animations */
@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(30px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes slideInLeft {
    from {
        opacity: 0;
        transform: translateX(-50px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

@keyframes slideInRight {
    from {
        opacity: 0;
        transform: translateX(50px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

@keyframes scaleIn {
    from {
        opacity: 0;
        transform: scale(0.95);
    }
    to {
        opacity: 1;
        transform: scale(1);
    }
}

@keyframes scaleInFade {
    from {
        opacity: 0;
        transform: scale(0.9);
    }
    to {
        opacity: 1;
        transform: scale(1);
    }
}

@keyframes slideUpScale {
    from {
        opacity: 0;
        transform: translateY(40px) scale(0.9);
    }
    to {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
}

/* Fallback for browsers without scroll-timeline support */
@supports not (animation-timeline: scroll()) {
    /* Elements start hidden for JS animation */
    .purpose-card,
    .service-card,
    .pillar-card,
    .promise-card,
    .timeline-item,
    .portfolio-item,
    .testimonial-card,
    .core-value-item,
    .stat-wrapper,
    .fleet-card {
        opacity: 0;
        transform: translateY(30px);
    }
    
    /* Special initial states */
    .portfolio-item {
        transform: scale(0.95);
    }
    
    .stat-wrapper {
        transform: scale(0.9);
    }
    
    .fleet-card {
        transform: translateY(40px) scale(0.9);
    }
}

/* Stagger animations for elements in view */
@supports (animation-timeline: scroll()) {
    .purpose-card:nth-child(1) { animation-delay: 0ms; }
    .purpose-card:nth-child(2) { animation-delay: 100ms; }
    .purpose-card:nth-child(3) { animation-delay: 200ms; }
    
    .service-card:nth-child(1) { animation-delay: 0ms; }
    .service-card:nth-child(2) { animation-delay: 100ms; }
    .service-card:nth-child(3) { animation-delay: 200ms; }
    
    .pillar-card:nth-child(1) { animation-delay: 0ms; }
    .pillar-card:nth-child(2) { animation-delay: 100ms; }
    .pillar-card:nth-child(3) { animation-delay: 200ms; }
    .pillar-card:nth-child(4) { animation-delay: 300ms; }
}